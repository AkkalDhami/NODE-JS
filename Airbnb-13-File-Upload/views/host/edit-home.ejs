<!DOCTYPE html>
<html lang="en">
<%- include('../partials/head') %>

  <body class="min-h-screen w-full bg-gray-100">
    <%- include('../partials/nav') %>

      <main class="flex justify-center items-center p-12">
        <form action="/host/<%= isEditing? 'edit-home' : 'add-home' %>" method="POST" enctype="multipart/form-data"
          class="bg-white mt-12 max-w-[800px] p-8 rounded-lg shadow-md w-full mx-auto">
          <h2 class="text-2xl font-bold mb-6">
            <%= isEditing? 'Edit Your Home' : 'Register your home' %>
          </h2>
          <%- include('../partials/errors.ejs') %>
            <input type="hidden" name="id" value="<%= isEditing? home._id : oldInput.id %>">
            <div class="mb-4">
              <label for="houseName" class="block text-gray-700 font-medium mb-2">House Name</label>
              <input type="text" name="houseName" id="houseName"
                value="<%= isEditing? home.houseName : oldInput.houseName %>" placeholder="Enter the name of your house"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500" />
            </div>
            <div class="mb-4">
              <label for="price" class="block text-gray-700 font-medium mb-2">Price Per Night</label>
              <input type="text" name="price" id="price" value="<%= isEditing? home.price : oldInput.price %>"
                placeholder="Enter the price per night of your house"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500" />
            </div>
            <!-- Marked Price -->

            <div class="mb-4">
              <label for="markedPrice" class="block text-gray-700 font-medium mb-2">Marked Price</label>
              <input type="text" name="markedPrice" id="markedPrice"
                value="<%= isEditing? home.markedPrice : oldInput.markedPrice %>"
                placeholder="Enter the marked price of your house"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500" />
            </div>

            <div class="mb-4">
              <label for="rating" class="block text-gray-700 font-medium mb-2">Rating</label>
              <input type="text" name="rating" value="<%= isEditing? home.rating : oldInput.rating %>" id="rating"
                placeholder="Enter the Rating of your house"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500" />
            </div>
            <div class="mb-4">
              <label for="location" class="block text-gray-700 font-medium mb-2">Location</label>
              <input type="text" name="location" value="<%= isEditing? home.location : oldInput.location %>"
                id="location" placeholder="Enter the location of your house"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500" />
            </div>
            <div class="mb-4">
              <label for="houseImage" class="block text-gray-700 font-medium mb-2">House Image</label>
              <input type="file" name="houseImage" id="houseImage"
                class="w-full px-4 py-2 cursor-pointer border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500" />
            </div>
            <div class="mb-4">
              <label for="rulesPdf" class="block text-gray-700 font-medium mb-2">House Rules</label>
              <input type="file" name="rulesPdf" id="rulesPdf"
                class="w-full px-4 py-2 cursor-pointer border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500" />
            </div>
            <div class="mb-4">
              <label for="description" class="block text-gray-700 font-medium mb-2">Description</label>
              <textarea name="description" id="description" cols="30" rows="5"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 resize-none"
                placeholder="Enter the description of your house"><%= isEditing? home.description : oldInput.description %></textarea>
            </div>
            <button type="submit"
              class="w-full cursor-pointer bg-red-500 text-white py-2 rounded-lg hover:bg-red-600 transition duration-300">
              <%= isEditing? 'Update Home' : 'Add Home' %>
            </button>
        </form>
      </main>
  </body>

</html>